{
  "test_name": "drawdown_crash_test",
  "data_path": "/var/folders/bf/8ygwy1yn64z_tbsk07r33xf40000gn/T/tmp54sndqef.csv",
  "symbols": [
    "CRASH_TEST"
  ],
  "initial_equity": 100000.0,
  "max_drawdown_threshold": -0.1,
  "baseline": {
    "portfolio_metrics": {
      "initial_equity": 100000.0,
      "final_equity": 97690.0472830549,
      "total_pnl": -2309.952716945103,
      "pnl_percent": -2.3099527169451033,
      "max_drawdown": -0.12309952716945104,
      "total_trades": 2,
      "win_rate": 0.0,
      "open_positions": 0
    },
    "equity_curve": [
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      90000.0,
      90109.21914407292,
      90109.21914407292,
      90388.20948198518,
      90388.20948198518,
      90521.81001258972,
      90521.81001258972,
      90752.8017605877,
      90752.8017605877,
      90993.43014632355,
      90993.43014632355,
      91260.86396601827,
      91260.86396601827,
      91396.00959132565,
      91396.00959132565,
      91645.85586280309,
      91645.85586280309,
      91804.68867056676,
      91804.68867056676,
      92011.03966331577,
      92011.03966331577,
      88407.72776432104,
      88407.72776432104,
      88362.52545176477,
      88362.52545176477,
      88370.07987285097,
      88370.07987285097,
      88217.50155605728,
      88217.50155605728,
      88181.06491062231,
      88181.06491062231,
      88249.66543125463,
      88249.66543125463,
      88279.1195518322,
      88279.1195518322,
      88319.99500661738,
      88319.99500661738,
      88271.26200212473,
      88271.26200212473,
      88255.16996163654,
      88255.16996163654,
      88320.92655003011,
      88320.92655003011,
      88278.15644587191,
      88278.15644587191,
      88187.17974233198,
      88187.17974233198,
      88037.47363505024,
      88037.47363505024,
      88106.85299491385,
      88106.85299491385,
      88187.62018042208,
      88187.62018042208,
      88246.90420469563,
      88246.90420469563,
      88101.25749112581,
      88101.25749112581,
      88110.72919289448,
      88110.72919289448,
      88147.21869350476,
      88147.21869350476,
      88227.59622205226,
      88227.59622205226,
      88082.3533218655,
      88082.3533218655,
      88034.46112679667,
      88034.46112679667,
      87888.7938712934,
      87888.7938712934,
      87817.6785971226,
      87817.6785971226,
      87690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549
    ],
    "trades": [
      {
        "symbol": "CRASH_TEST",
        "action": "BUY",
        "price": 125.18479034925345,
        "size": 79.88190875345933,
        "timestamp": "1970-01-01 00:00:00.000000009",
        "equity": 100000.0
      },
      {
        "symbol": "CRASH_TEST",
        "action": "SELL",
        "price": 96.26769569050732,
        "size": 79.88190875345933,
        "entry_price": 125.18479034925345,
        "pnl": -2309.952716945104,
        "pnl_percent": -23.09952716945104,
        "timestamp": "1970-01-01 00:00:00.000000045",
        "equity": 87690.0472830549
      }
    ],
    "blocked_trades": [],
    "blocked_trades_count": 0,
    "blocked_by_reason": {},
    "simulation_config": {
      "mode": "baseline",
      "symbols": [
        "CRASH_TEST"
      ],
      "start_date": null,
      "end_date": null,
      "initial_equity": 100000.0,
      "engine_mode": "LIVE",
      "capital_shield_mode": null
    }
  },
  "capital_shielded": {
    "portfolio_metrics": {
      "initial_equity": 100000.0,
      "final_equity": 97690.0472830549,
      "total_pnl": -2309.952716945103,
      "pnl_percent": -2.3099527169451033,
      "max_drawdown": -0.12309952716945104,
      "total_trades": 2,
      "win_rate": 0.0,
      "open_positions": 0
    },
    "equity_curve": [
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      100000.0,
      90000.0,
      90109.21914407292,
      90109.21914407292,
      90388.20948198518,
      90388.20948198518,
      90521.81001258972,
      90521.81001258972,
      90752.8017605877,
      90752.8017605877,
      90993.43014632355,
      90993.43014632355,
      91260.86396601827,
      91260.86396601827,
      91396.00959132565,
      91396.00959132565,
      91645.85586280309,
      91645.85586280309,
      91804.68867056676,
      91804.68867056676,
      92011.03966331577,
      92011.03966331577,
      88407.72776432104,
      88407.72776432104,
      88362.52545176477,
      88362.52545176477,
      88370.07987285097,
      88370.07987285097,
      88217.50155605728,
      88217.50155605728,
      88181.06491062231,
      88181.06491062231,
      88249.66543125463,
      88249.66543125463,
      88279.1195518322,
      88279.1195518322,
      88319.99500661738,
      88319.99500661738,
      88271.26200212473,
      88271.26200212473,
      88255.16996163654,
      88255.16996163654,
      88320.92655003011,
      88320.92655003011,
      88278.15644587191,
      88278.15644587191,
      88187.17974233198,
      88187.17974233198,
      88037.47363505024,
      88037.47363505024,
      88106.85299491385,
      88106.85299491385,
      88187.62018042208,
      88187.62018042208,
      88246.90420469563,
      88246.90420469563,
      88101.25749112581,
      88101.25749112581,
      88110.72919289448,
      88110.72919289448,
      88147.21869350476,
      88147.21869350476,
      88227.59622205226,
      88227.59622205226,
      88082.3533218655,
      88082.3533218655,
      88034.46112679667,
      88034.46112679667,
      87888.7938712934,
      87888.7938712934,
      87817.6785971226,
      87817.6785971226,
      87690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549,
      97690.0472830549
    ],
    "trades": [
      {
        "symbol": "CRASH_TEST",
        "action": "BUY",
        "price": 125.18479034925345,
        "size": 79.88190875345933,
        "timestamp": "1970-01-01 00:00:00.000000009",
        "equity": 100000.0
      },
      {
        "symbol": "CRASH_TEST",
        "action": "SELL",
        "price": 96.26769569050732,
        "size": 79.88190875345933,
        "entry_price": 125.18479034925345,
        "pnl": -2309.952716945104,
        "pnl_percent": -23.09952716945104,
        "timestamp": "1970-01-01 00:00:00.000000045",
        "equity": 87690.0472830549
      }
    ],
    "blocked_trades": [],
    "blocked_trades_count": 0,
    "blocked_by_reason": {},
    "simulation_config": {
      "mode": "capital_shielded",
      "symbols": [
        "CRASH_TEST"
      ],
      "start_date": null,
      "end_date": null,
      "initial_equity": 100000.0,
      "engine_mode": "MOCK",
      "capital_shield_mode": "STRICT"
    }
  },
  "comparison": {
    "baseline": {
      "final_equity": 97690.0472830549,
      "total_pnl": -2309.952716945103,
      "pnl_percent": -2.3099527169451033,
      "max_drawdown": -0.12309952716945104,
      "total_trades": 2,
      "win_rate": 0.0
    },
    "shielded": {
      "final_equity": 97690.0472830549,
      "total_pnl": -2309.952716945103,
      "pnl_percent": -2.3099527169451033,
      "max_drawdown": -0.12309952716945104,
      "total_trades": 2,
      "win_rate": 0.0,
      "blocked_trades": 0
    },
    "differences": {
      "equity_diff": 0.0,
      "equity_diff_pct": 0.0,
      "pnl_diff": 0.0,
      "pnl_diff_pct": -0.0,
      "drawdown_diff": 0.0,
      "drawdown_improvement_pct": 0.0,
      "trades_diff": 0
    },
    "shield_effect": []
  }
}